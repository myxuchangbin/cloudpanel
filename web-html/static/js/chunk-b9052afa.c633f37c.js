(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b9052afa"],{"15d4":function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return s})),n.d(e,"d",(function(){return o})),n.d(e,"b",(function(){return r}));var i=n("b775");function a(t){return Object(i["a"])({url:"/check/tool/ping",method:"post",data:t})}function s(t){return Object(i["a"])({url:"/check/get/ping/tasks",method:"post",data:t})}function o(t){return Object(i["a"])({url:"/check/tool/web",method:"post",data:t})}function r(t){return Object(i["a"])({url:"/check/get/web/tasks",method:"post",data:t})}},"46e2":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",[n("el-header",{staticStyle:{"background-color":"#545c64"}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:16,offset:4,xs:{span:22,offset:1}}},[n("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex2,mode:"horizontal","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},[n("el-menu-item",{attrs:{index:"ping"},on:{click:function(e){return t.$router.push("/ping")}}},[t._v("Ping测试")]),t._v(" "),n("el-menu-item",{attrs:{index:"web"},on:{click:function(e){return t.$router.push("/web")}}},[t._v("网站测速")])],1)],1)],1)],1),t._v(" "),n("el-main",[n("div",{staticClass:"app-container"},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{sm:{span:22,offset:1},md:{span:16,offset:4},xs:{span:24,offset:0}}},[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("网站测速工具")])]),t._v(" "),n("div",[n("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入需要检测的域名或者IP地址"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleToolPing(e)}},model:{value:t.host,callback:function(e){t.host=e},expression:"host"}},[n("el-button",{attrs:{slot:"append",autofocus:"",icon:"el-icon-search"},on:{click:t.handleToolPing},slot:"append"},[t._v("检测")])],1)],1),t._v(" "),n("div",{staticStyle:{"margin-top":"15px"}},[n("el-row",[n("el-button",{attrs:{type:t.check_all?"primary":""},on:{click:t.handleCheckAllChange}},[t._v("全选")]),t._v(" "),t._l(t.lineList,(function(e){return n("el-button",{key:e.line,attrs:{type:e.active?"primary":"",label:e.line},on:{click:function(n){return t.handleCheckedCitiesChange(e)}}},[t._v(t._s(e.name))])}))],2)],1)]),t._v(" "),n("el-card",{directives:[{name:"show",rawName:"v-show",value:t.result,expression:"result"}],staticClass:"box-card",staticStyle:{"margin-top":"15px"}},[n("span",[t._v("检测地址："+t._s(t.check_host)+" 检测类型：网站测速")])]),t._v(" "),n("el-card",{directives:[{name:"show",rawName:"v-show",value:t.result,expression:"result"}],staticClass:"box-card",staticStyle:{"margin-top":"15px"}},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.node_list,border:""}},[n("el-table-column",{attrs:{label:"节点名称",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                  "+t._s(e.row.node_name)+"\n                ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"解析IP",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.ip?n("span",[t._v(t._s(e.row.ip))]):n("span",[n("i",{staticClass:"el-icon-loading"}),t._v(" 检测中")])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"IP归属地"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                  "+t._s(e.row.address||"-")+"\n                ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"状态",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.content.code?n("span",{style:{color:"200"===e.row.content.code?"green":"red"}},[t._v(t._s(e.row.content.code))]):n("span",[t._v("-")])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"总时间",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.content.total?n("span",[t._v(t._s(e.row.content.total)+" ms")]):n("span",[t._v(" - ")])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"解析时间",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.content.dns&&0!==e.row.content.dns?n("span",[t._v(t._s(e.row.content.dns)+" ms")]):n("span",[t._v(" - ")])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"连接时间",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.content.conn&&0!==e.row.content.conn?n("span",[t._v(t._s(e.row.content.conn)+" ms")]):n("span",[t._v(" - ")])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"页面大小",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.content.fileSize?n("span",[t._v(t._s(t._f("numberFormatter2")(e.row.content.fileSize)))]):n("span",[t._v(" - ")])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"下载速度",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.content.speed?n("span",[t._v(t._s(t._f("numberFormatter2")(e.row.content.speed))+"/s")]):n("span",[t._v(" - ")])]}}])})],1)],1)],1)],1)],1)]),t._v(" "),n("common-footer")],1)},a=[],s=n("15d4"),o=n("4328"),r=n.n(o),l=n("a71f"),c={components:{commonFooter:l["a"]},data:function(){return{timer:null,activeIndex2:"web",formInline:{},lineList:[{line:1,type:"primary",active:!0,name:"电信"},{line:2,type:"primary",active:!0,name:"联通"},{line:3,type:"primary",active:!0,name:"移动"},{line:4,type:"primary",active:!0,name:"多线"},{line:5,type:"primary",active:!0,name:"港澳台"},{line:6,type:"primary",active:!0,name:"境外"}],check_all:!0,task_token:!1,check_num:0,check_host:"",tableData:[],node_list:null,result:!1,host:""}},created:function(){},destroyed:function(){clearInterval(this.timer)},methods:{fetchData:function(){Object(s["c"])(this.listQuery).then((function(t){}))},handleCheckAllChange:function(t){if(this.check_all=!this.check_all,this.check_all){for(var e in this.lineList)this.lineList[e].active=!0;return!0}for(var n in this.lineList)this.lineList[n].active=!1},handleCheckedCitiesChange:function(t){t.active=!t.active;var e=[];for(var n in this.lineList)this.lineList[n].active&&e.push(this.lineList[n].line);e.length<this.lineList.length?this.check_all=!1:this.check_all=!0},handleToolPing:function(){clearInterval(this.timer);try{this.result=!1,this.node_list=null;var t=[];for(var e in this.lineList)this.lineList[e].active&&t.push(this.lineList[e].line);if(t=t.join(","),0===t.length)return void this.$notify({title:"操作提示",message:"请至少选择一个线路",type:"info",duration:5e3});if(!this.host)return void this.$notify({title:"操作提示",message:"请填写域名或者IP地址",type:"info",duration:5e3});this.checkToolPing(t,this.host)}catch(n){console.log(n),this.$notify({title:"操作提示",message:"页面超时，请刷新后再进行操作",type:"info",duration:5e3})}},checkToolPing:function(t,e){var n=this;this.check_num=0,Object(s["d"])(r.a.stringify({line:t,host:e})).then((function(t){n.$notify({title:t.title,message:t.message,type:"success",duration:5e3}),n.result=!0,n.node_list=t.data.node,n.task_token=t.data.token,n.check_host=t.data.host,n.timer=setInterval(n.getTaskList,1e3)})).catch((function(t){if(t.error_data){for(var e in t.error_data){var i=t.error_data[e][0];n.$notify({title:"操作提示",message:i,type:"error",duration:5e3})}return!1}}))},getTaskList:function(){var t=this;this.check_num>=120&&(this.$notify({title:"操作提示",message:"任务超时, 如需要请重新检测！",type:"warning",duration:5e3}),clearInterval(this.timer)),this.check_num++,Object(s["b"])(r.a.stringify({token:this.task_token})).then((function(e){for(var n=0;n<e.data.tasks.length;n++)console.log(e.data.tasks[n]),t.updateNodeCheck(e.data.tasks[n]);e.data.status&&(t.$notify({title:e.title,message:"检测完成",type:"success",duration:5e3}),clearInterval(t.timer))})).catch((function(e){t.$notify({title:"操作提示",message:"由于 未知原因 导致检测异常，请稍后重试！",type:"error",duration:5e3}),clearInterval(t.timer)}))},updateNodeCheck:function(t){if(this.node_list)for(var e=0;e<this.node_list.length;e++){var n=this.node_list[e];if(n.node_id===t.node){if(2!==t.status){this.$set(this.node_list[e],"ip",t.ip);break}this.$set(this.node_list[e],"ip",t.ip),this.$set(this.node_list[e],"address",t.ip_from),this.$set(this.node_list[e],"content",t.content);break}}}}},u=c,d=(n("f51a"),n("2877")),h=Object(d["a"])(u,i,a,!1,null,"52273555",null);e["default"]=h.exports},a71f:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-footer",[t._v("Copyright © 2020 网络工具. All rights reserved.")])},a=[],s={data:function(){return{activeIndex2:""}},created:function(){},methods:{}},o=s,r=n("2877"),l=Object(r["a"])(o,i,a,!1,null,"72af00c8",null);e["a"]=l.exports},b4a8:function(t,e,n){},f51a:function(t,e,n){"use strict";n("b4a8")}}]);